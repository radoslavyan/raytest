{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rados\\\\OneDrive\\\\Skrivebord\\\\rep\\\\TimeLogger\\\\client\\\\src\\\\components\\\\Timeregistration\\\\CreateTimeregistration.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateTimeregistration({\n  onTimeregistrationCreated\n}) {\n  _s();\n\n  //const [timeregistration, setTimeregistration] = useState<TimeregistrationCreationDto>();\n  const [timeregistration, setTimeregistration] = useState({\n    projectId: undefined,\n    startTime: '',\n    endTime: '',\n    timeSpentInHours: ''\n  });\n  useEffect(() => {\n    if (timeregistration.startTime && timeregistration.endTime) {\n      const start = new Date(timeregistration.startTime);\n      const end = new Date(timeregistration.endTime);\n      const diff = end.getTime() - start.getTime(); // Difference in milliseconds\n\n      const hours = diff / (1000 * 60 * 60); // Convert milliseconds to hours\n\n      setTimeregistration(prevState => ({ ...prevState,\n        timeSpentInHours: hours.toFixed(2) // Keep two decimal places\n\n      }));\n    }\n  }, [timeregistration.startTime, timeregistration.endTime]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (!timeregistration) {\n      console.error(\"Timeregistration data is undefined.\");\n      return;\n    }\n\n    if (!timeregistration.startTime) {\n      console.error(\"Start time must be provided.\");\n      return;\n    }\n\n    if (!timeregistration.endTime) {\n      console.error(\"End time must be provided.\");\n      return;\n    }\n  }; // Simplified change handler to update state based on input name\n\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setTimeregistration(current => ({ ...current,\n      [name]: name === 'projectId' ? parseInt(value, 10) || undefined : value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"projectId\",\n      type: \"number\",\n      value: (timeregistration === null || timeregistration === void 0 ? void 0 : timeregistration.projectId) || '',\n      onChange: handleChange,\n      placeholder: \"Project Id\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"startTime\",\n      type: \"datetime-local\",\n      value: (timeregistration === null || timeregistration === void 0 ? void 0 : timeregistration.startTime) || '',\n      onChange: handleChange,\n      placeholder: \"Start Time\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"endTime\",\n      type: \"datetime-local\",\n      value: (timeregistration === null || timeregistration === void 0 ? void 0 : timeregistration.endTime) || '',\n      onChange: handleChange,\n      placeholder: \"End Time\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"timeSpentInHours\",\n      type: \"number\",\n      value: (timeregistration === null || timeregistration === void 0 ? void 0 : timeregistration.timeSpentInHours) || '',\n      onChange: handleChange,\n      placeholder: \"Time Spent In Hours\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Create Timeregistration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateTimeregistration, \"ZWcBQyn5TOusxjnDioD2UHNdrPI=\");\n\n_c = CreateTimeregistration;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateTimeregistration\");","map":{"version":3,"names":["React","useEffect","useState","CreateTimeregistration","onTimeregistrationCreated","timeregistration","setTimeregistration","projectId","undefined","startTime","endTime","timeSpentInHours","start","Date","end","diff","getTime","hours","prevState","toFixed","handleSubmit","e","preventDefault","console","error","handleChange","name","value","target","current","parseInt"],"sources":["C:/Users/rados/OneDrive/Skrivebord/rep/TimeLogger/client/src/components/Timeregistration/CreateTimeregistration.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport * as timeregistrationEndpoints from \"../../endpoints/TimeregistrationEndpoints\";\r\nimport { TimeregistrationCreationDto } from \"./timeregistration.model\";\r\n\r\n\r\ninterface CreateTimeregistrationProps {\r\n    onTimeregistrationCreated: () => void;\r\n}\r\n\r\nexport default function CreateTimeregistration({ onTimeregistrationCreated }: CreateTimeregistrationProps) {\r\n    //const [timeregistration, setTimeregistration] = useState<TimeregistrationCreationDto>();\r\n    const [timeregistration, setTimeregistration] = useState({\r\n        projectId: undefined,\r\n        startTime: '',\r\n        endTime: '',\r\n        timeSpentInHours: ''\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (timeregistration.startTime && timeregistration.endTime) {\r\n            const start = new Date(timeregistration.startTime);\r\n            const end = new Date(timeregistration.endTime);\r\n            const diff = end.getTime() - start.getTime(); // Difference in milliseconds\r\n            const hours = diff / (1000 * 60 * 60); // Convert milliseconds to hours\r\n\r\n            setTimeregistration(prevState => ({\r\n                ...prevState,\r\n                timeSpentInHours: hours.toFixed(2) // Keep two decimal places\r\n            }));\r\n        }\r\n    }, [timeregistration.startTime, timeregistration.endTime]);\r\n\r\n\r\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n\r\n        if (!timeregistration) {\r\n            console.error(\"Timeregistration data is undefined.\");\r\n            return;\r\n        }\r\n\r\n        if (!timeregistration.startTime) {\r\n            console.error(\"Start time must be provided.\");\r\n            return;\r\n        }\r\n\r\n        if (!timeregistration.endTime) {\r\n            console.error(\"End time must be provided.\");\r\n            return;\r\n        }\r\n\r\n     \r\n    };\r\n\r\n    // Simplified change handler to update state based on input name\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = e.target;\r\n        setTimeregistration(current => ({\r\n            ...current,\r\n            [name]: name === 'projectId' ? parseInt(value, 10) || undefined : value\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <input\r\n                name=\"projectId\"\r\n                type=\"number\"\r\n                value={timeregistration?.projectId || ''}\r\n                onChange={handleChange}\r\n                placeholder=\"Project Id\"\r\n            />\r\n            <input\r\n                name=\"startTime\"\r\n                type=\"datetime-local\"\r\n                value={timeregistration?.startTime || ''}\r\n                onChange={handleChange}\r\n                placeholder=\"Start Time\"\r\n            />\r\n            <input\r\n                name=\"endTime\"\r\n                type=\"datetime-local\"\r\n                value={timeregistration?.endTime || ''}\r\n                onChange={handleChange}\r\n                placeholder=\"End Time\"\r\n            />\r\n            <input\r\n                name=\"timeSpentInHours\"\r\n                type=\"number\"\r\n                value={timeregistration?.timeSpentInHours || ''}\r\n                onChange={handleChange}\r\n                placeholder=\"Time Spent In Hours\"\r\n            />\r\n            <button type=\"submit\">Create Timeregistration</button>\r\n        </form>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}